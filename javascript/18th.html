<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <div>

        <input id="numPanel" type="text">

        <div onclick="getNumber(event)">

            <div>
                <button>0</button>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button>4</button>
                <button>5</button>
                <button>6</button>
                <button>7</button>
                <button>8</button>
                <button>9</button>
            </div>

            <div>
                <button>+</button>
                <button>-</button>
                <button>*</button>
                <button>/</button>
                <button>=</button>
            </div>

        </div>

    </div>

    <script>
      let operator = ["+","-","*","/"];
      let joinOperators = operator.join('');
      let expression = "";

        function getNumber(evt) {

            if (evt.target.innerText == "=") {

                numPanel.value = eval(numPanel.value);

            } else {
         expression = evt.target.innerText;
       // let last =  numPanel.value[numPanel.value.length-1];
        if(numPanel.value.length > 0){
         let last =  numPanel.value.indexOf(numPanel.value[numPanel.value.length-1])
         let value = numPanel.value[last];
         if( joinOperators.includes(value)  ){
            if(joinOperators.includes(expression)){

            }
            else{
                numPanel.value += expression;
            }

         }
       
         else{
            numPanel.value += expression;
            
         }
        }
        // run only once
        else{
            numPanel.value += expression;
        }
 
            }
        
           
        }

    </script>

</body>

</html>

 -->











<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .cal {
            text-align: center;
            width: 100%;
        }

        .btn {
            padding: 5px;
        }
    </style>
</head>

<body onkeydown="getNumber(event)">
    <div class="cal" onclick="display(event)">

        <div>
            <input type="text" id="numPannel">
        </div>
        <div class="btn" onabort="display(event)"  >

            <div>
                <button>7</button>
                <button>8</button>
                <button>9</button>
                <button>/</button>
            </div>
            <div>
                <button>4</button>
                <button>5</button>
                <button>6</button>
                <button>*</button>
            </div>
            <div>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button>-</button>
            </div>
            <div>
                <button>C</button>
                <button>0</button>
                <button>=</button>
                <button>+</button>
            </div>
        </div>
    </div>


    <script>

        function getNumber(evt) {
            console.log(evt.key)
            
            let str = numPannel.value;

            let operations = ['+', '-', '/', '*'];
            let value1 = ['1','2','3','4','5','6','7','8','9','0','+', '-', '/', '*']

            let lastCharacter = numPannel.value[numPannel.value.length - 1];
            if(evt.key == 'Backspace'){
             let remove = numPannel.value;
             numPannel.value = remove.slice(0,remove.length - 1);

      
            }

            if (evt.key == "Enter") {


                numPannel.value = eval(numPannel.value);

            } else {

                if(value1.includes(evt.key)){

                if(operations.includes(evt.key) && numPannel.value == ""){

                }
                else{
                if (operations.includes(lastCharacter) && operations.includes(evt.key)) {


                }else{
                    numPannel.value += evt.key;
                    
                }
                }
                }
            


            }


            }
            function display(evt){
                evt.stopPropagation();
                
            
            let str = numPannel.value;

            let operations = ['+', '-', '/', '*'];
            let value1 = ['1','2','3','4','5','6','7','8','9','0','+', '-', '/', '*']

            let lastCharacter = numPannel.value[numPannel.value.length - 1];
           

            if (evt.target.innerText == "=") {


                numPannel.value = eval(numPannel.value);

            } else {

                

                if(operations.includes(evt.target.innerText) && numPannel.value == ""){

                }
                else{
                if (operations.includes(lastCharacter) && operations.includes(evt.target.innerText)) {


                }else{
                    numPannel.value += evt.target.innerText;
                    
                }
                }
                }
            


            }

            
        
    </script>
</body>

</html>


